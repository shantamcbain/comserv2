[% PageVersion = 'Documentation/Sites.tt,v 0.01 2024/01/28 Shanta Exp shanta ' %]
[% IF c.session.debug_mode == 1 %]
    [% PageVersion %]
    [%# "Debugging HostName: " _ HostName %]
    [%# INCLUDE 'debug.tt' %]
[% END %]
<h1>Sites</h1>
<p>
   We will be hosting a number of sites on our server.  We will be hosting sites for our clients, and we will also be hosting sites for our own use.
    Sodo code for this might look like this:
    1. get the domain store it in the session HostName it is stored in the http://shanta.local:3000/ formate.
    2. The HostName will be used to set the SiteName.
    3. The table that maps the HostName to the SiteName is in the sitedomain table. DomainName is the domain field and the SiteName is the site_id field. The domain is stored in the shanta.local formate.
    4. the site_id field is used to set find the site int the sites table.
    5. THe site table contains the site setup details. which we use to set the site parameters such as the site controller. css view name and site display name, email address etc.
    6. The site controller is used to set the site specific routes.

</p>

In route auto we will use the acquired SiteName to search the site table for the record that matches the SiteName.
We will then use the SiteName to set the site controller.
The site controller will then be used to set the site specific routes.
The site specific routes will be used to return the site specific pages to the user.
For example beemaster.ca/ would return the home page for beemaster.ca as defined in the BMaster controller.
The site table record contains key information about the site.  The site table record will contain the following
fields:  the first two we want to put will be the css_view_name site_display_name these values need to be placed in
the session to set the DefaultVariables.tt for use by all other tt. in the application.
we need to set the home page of the application based on the value in home_view in the site table. This value will set the default home page for the site. for the most part it will be a controller of the same name.  The home page will be set in the site controller.