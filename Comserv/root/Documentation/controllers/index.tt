[% PageVersion = 'Comserv/root/Documentation/controllers/index.tt,v 0.01 2025/06/10 shanta Exp shanta ' %]
[% IF c.session.debug_mode == 1 %]
    [% PageVersion %]
[% END %]

[% META title = 'Controllers Documentation' %]

<!-- Documentation page for index -->
<div class="documentation-content">




<!-- Documentation CSS is now included in the theme system -->

<div class="markdown-content">


<h2>Overview</h2>



This page provides an index of all controller documentation in the Comserv system. Controllers are responsible for handling requests, processing data, and rendering views.



<h2>Core Controllers</h2>



<ul><li><a href="Root_Controller.md">Root Controller</a> - The main controller that handles the root path and determines which site to display</li></ul>

<ul><li><a href="Documentation_Controller.md">Documentation Controller</a> - Handles the documentation system</li></ul>

<ul><li><a href="Admin_Controller.md">Admin Controller</a> - Handles administrative functions</li></ul>

<ul><li><a href="User_Controller.md">User Controller</a> - Handles user authentication and management</li></ul>



<h2>Site-Specific Controllers</h2>



<ul><li><a href="USBM_Controller.md">USBM Controller</a> - Universal School of Business Management site</li></ul>

<ul><li><a href="CSC_Controller.md">CSC Controller</a> - Computer System Consulting site</li></ul>

<ul><li><a href="Shanta_Controller.md">Shanta Controller</a> - Shanta's personal site</li></ul>



<h2>Feature Controllers</h2>



<ul><li><a href="HelpDesk_Controller.md">HelpDesk Controller</a> - Support ticket system</li></ul>

<ul><li><a href="Todo_Controller.md">Todo Controller</a> - Task management system</li></ul>

<ul><li><a href="Project_Controller.md">Project Controller</a> - Project management system</li></ul>

<ul><li><a href="Proxy_Controller.md">Proxy Controller</a> - Proxy management system</li></ul>



<h2>Guidelines</h2>



<ul><li><a href="/Documentation/controller_routing_guidelines">Controller Routing Guidelines</a> - Best practices for setting up routes</li></ul>

<ul><li><a href="/Documentation/controller_naming_conventions">Controller Naming Conventions</a> - Standards for naming controllers</li></ul>

<ul><li><a href="/Documentation/controller_testing">Controller Testing</a> - How to test controllers</li></ul>



<h2>Common Issues</h2>



<ul><li><a href="/Documentation/documentation_filename_issue">Filename/Package Mismatch</a> - Critical issue with controller filenames not matching package names</li></ul>

<ul><li><a href="/Documentation/all_sites_same_content">All Sites Showing Same Content</a> - Issue with controllers capturing the root path incorrectly</li></ul>



<h2>Creating New Controllers</h2>



When creating a new controller:



<ol><li>Ensure the filename matches the package name</li></ol>

<ol><li>Set the namespace explicitly</li></ol>

<ol><li>Use appropriate action attributes</li></ol>

<ol><li>Include proper logging</li></ol>

<ol><li>Forward to the view explicitly</li></ol>



Example:



<code></code>`perl

package Comserv::Controller::NewFeature;

use Moose;

use namespace::autoclean;

use Comserv::Util::Logging;



BEGIN { extends 'Catalyst::Controller'; }



<h1>Set the namespace</h1>

__PACKAGE__->config(namespace => 'NewFeature');



has 'logging' => (

    is => 'ro',

    default => sub { Comserv::Util::Logging->instance }

);



sub auto :Private {

    my ($self, $c) = @_;

    $self->logging->log_with_details($c, 'info', __FILE__, __LINE__, 'auto', 

        "NewFeature controller auto method called");

    return 1;

}



sub index :Path :Args(0) {

    my ($self, $c) = @_;

    $self->logging->log_with_details($c, 'info', __FILE__, __LINE__, 'index', 

        "NewFeature index action called");

    $c->stash(template => 'NewFeature/index.tt');

    $c->forward($c->view('TT'));

}



__PACKAGE__->meta->make_immutable;



1;

<code></code>`

</div>
