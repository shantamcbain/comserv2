[% PageVersion = 'WorkShops/workshops.tt,v 0.01 2024/01/08 shanta Exp shanta ' %]
[% IF debug_mode == 1 %]
 [%	PageVersion %]
[% END %]

<h1>Workshop Application Creation Process</h1>
<p>The workshop application is a Catalyst web-based application that allows users to create, schedule, and manage
    workshops. The application will include features for adding new workshops, editing existing workshops, and deleting workshops. It will also include features for scheduling workshops at specific times and locations, and for managing the participants who have signed up for each workshop.</p>
<p>To create the Workshop application, we are following a structured approach that involves several steps:</p>

dbix for the database
share => {
    data_type => 'enum',
    default_value => 'private',
    extra => {
        list => ['public', 'private', 'new_value']  // Add the new value here
    },
},
to alter the table
ALTER TABLE `workshop`
MODIFY COLUMN `share` ENUM('public', 'private', 'new_value') DEFAULT 'private';
in the details to fetch the record

    # Assume you have fetched the record data from the database
    my $record = ...;

    $c->stash(record => $record);
    $c->forward('View::TT');
}

% USE form %] # to put in the form.
<form method="POST" action="/submit">
    <label for="share">Share:</label>
    <select id="share" name="share">
        <option value="public" [% IF record.share == 'public' %]selected[% END %]>Public</option>
        <option value="private" [% IF record.share == 'private' %]selected[% END %]>Private</option>
        <option value="member" [% IF record.share == 'member' %]selected[% END %]>Member</option>
    </select>
</form>
<ol>
    <li><h3> Workshop Controller</h3>
        <p>Workshop Controller is a Perl module that handles user interactions with the application. It uses the models to interact with the database and the views to generate the user interface. The controller is responsible for processing user input, invoking the appropriate models to perform the required actions, and rendering the views to display the results.</p>

    </li>
    <li><h3>Workshop Model.</h3>
        <p>Workshop Model is a Perl module that represents the core entity in our application. The model is
            responsible for querying the database to retrieve, insert, update, and delete workshops, as well as for performing any business logic related to workshops. </p>
        <p>We connect to the datbase with    # Get a DBIx::Class::Schema object
    my $schema = $c->model('DBEncy');
              # Get a DBIx::Class::ResultSet object

            my $rs = $schema->resultset('User');

    # Find the user in the database
    my $user = $rs->find({ username => $username });

</p>

    </li>
    <li><h3>Workshop Result</h3>

     <ol>
         <li>id: this field is auto incremented. </li>
         <li>sitename: this field is the sitename of the owner of the site </li>
            <li>title: this field is the name of the workshop </li>
            <li>description: this field is the description of the workshop </li>
            <li>date: this field is the date of the workshop </li>
            <li>location: the location of the workshop </li>
            <li>instructor: this field is the instructor(s)</li>
            <li>max_participants: this field is the maximum number of participants for the workshop </li>
            <li>share: this field is the share status of the workshop </li>
            <li>end_time: this field is the end_time of the workshop </li>
            <li>time: this field is the time of the workshop </li>
        </ol>
    </li>
</ol>
<ol>
    <li>Define the Data Models: We have defined several data models to represent the core entities in our application. These include WorkShop, Participant, and SiteWorkshop. Each model corresponds to a table in the database and defines the fields (columns) in that table.</li>
    <li>Establish Relationships Between Models: We have established relationships between our models to reflect the associations between our entities. For example, we have a belongs_to relationship from WorkShop to Site, indicating that each workshop belongs to a site.</li>
    <li>Create the Views: We have created a Template Toolkit file workshops.tt that defines the user interface for displaying and interacting with workshops. This file includes HTML and Template Toolkit directives to display a list of workshops and provide links for adding, editing, and deleting workshops.</li>
</ol>

<h2>Next steps:</h2>

<ol>
    <li>Implement the Controllers: We will implement controllers that handle user interactions with our application. These controllers will use the models to interact with the database and the views to generate the user interface.</li>
    <li>Implement the Service Layer: We will implement a service layer that encapsulates the business logic of our application. This will include functions for checking if a user is allowed to create a workshop, if a workshop is full, or if a workshop can be scheduled at a certain time.</li>
    <li>Test the Application: We will thoroughly test our application to ensure that it works as expected. This will include unit tests for our models, controllers, and service layer, as well as integration tests for the application as a whole.</li>
    <li>Deploy the Application: Once we are confident that our application is working correctly, we will deploy it to a production environment.</li>
</ol>

<p>Remember, this is a high-level overview and the actual implementation might involve additional steps depending on the specific requirements of your application.</p>