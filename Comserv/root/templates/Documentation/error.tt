[% META title = 'Documentation Error' %]

<div class="documentation-error-container">
    <div class="documentation-error-header">
        <h1>Documentation Error</h1>
        <div class="error-message">[% error_msg %]</div>
    </div>
    
    <div class="documentation-error-details">
        <h2>What might have happened?</h2>
        <ul>
            <li>The documentation page you requested doesn't exist</li>
            <li>You don't have permission to access this documentation</li>
            <li>The documentation is specific to another site</li>
            <li>The documentation requires a higher user role</li>
        </ul>
        
        <div class="context-info">
            <p><strong>Current Site:</strong> [% site_name %]</p>
            <p><strong>User Role:</strong> [% user_role %]</p>
            <p><strong>Username:</strong> [% c.user_exists ? c.user.username : 'Not logged in' %]</p>
            [% IF required_roles %]
            <p><strong>Required Roles:</strong> [% required_roles %]</p>
            [% END %]
        </div>
    </div>
    
    <div class="documentation-error-footer">
        <div class="documentation-actions">
            <a href="[% c.uri_for('/Documentation') %]" class="btn btn-primary">Return to Documentation Home</a>
            <button onclick="window.history.back();" class="btn btn-secondary">Go Back</button>
        </div>
    </div>
</div>

<style>
    .documentation-error-container {
        max-width: 800px;
        margin: 40px auto;
        padding: 30px;
        background-color: #fff;
        box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
        border-radius: 4px;
        border-top: 5px solid #dc3545;
    }
    
    .documentation-error-header {
        margin-bottom: 30px;
        border-bottom: 1px solid #eee;
        padding-bottom: 15px;
    }
    
    .error-message {
        color: #dc3545;
        font-size: 1.2em;
        font-weight: bold;
        margin-top: 10px;
    }
    
    .documentation-error-details {
        margin-bottom: 30px;
    }
    
    .documentation-error-details h2 {
        font-size: 1.5em;
        margin-bottom: 15px;
    }
    
    .documentation-error-details ul {
        margin-bottom: 20px;
        padding-left: 20px;
    }
    
    .documentation-error-details li {
        margin-bottom: 8px;
    }
    
    .context-info {
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 4px;
        margin-top: 20px;
    }
    
    .context-info p {
        margin-bottom: 5px;
    }
    
    .documentation-error-footer {
        margin-top: 30px;
        padding-top: 15px;
        border-top: 1px solid #eee;
    }
    
    .documentation-actions {
        display: flex;
        justify-content: space-between;
    }
    
    .btn {
        display: inline-block;
        padding: 8px 16px;
        border-radius: 4px;
        text-decoration: none;
        cursor: pointer;
        font-weight: bold;
    }
    
    .btn-primary {
        background-color: #007bff;
        color: white;
        border: 1px solid #007bff;
    }
    
    .btn-secondary {
        background-color: #6c757d;
        color: white;
        border: 1px solid #6c757d;
    }
</style>